<div *ngFor="let element of content; index as i" class="element">
  <div *ngFor="let property of properties(element)">
    <div *ngIf="!element.edit && !isArray(element[property])" (click)="element.edit = true" class="field">{{element[property]}}</div>
    <input *ngIf="element.edit && !isArray(element[property])" type="text" [(ngModel)]="element[property]">
    <div *ngIf="!element.edit && isArray(element[property])">
      <div *ngFor="let member of element[property]; index as i" (click)="element.edit = true" style="padding:0 0.5em">{{member}}</div>
    </div>
    <div *ngIf="element.edit && isArray(element[property])">
      <input *ngFor="let member of element[property]; index as i" type="text" [(ngModel)]="element[property][i]">
    </div>
  </div>
  <div class="controls">
    <span>{{i | number:'2.0-0'}}</span>
    <button>
      <img src="assets/x.svg" class="icon" alt="delete" (click)="removeElement(element)">
    </button>
    <button>
      <img src="assets/arrow_up.svg" class="icon" alt="up" (click)="swapElements(i - 1, i)">
    </button>
    <button>
      <img src="assets/arrow_down.svg" class="icon" alt="down" (click)="swapElements(i, i + 1)">
    </button>
    <button *ngIf="!element.edit">
      <div class="icon" alt="edit" (click)="element.edit = true" style="height: auto">Edit</div>
    </button>
    <button *ngIf="element.edit">
      <div class="icon" alt="edit" (click)="removeEdit(element);updateElements()" style="height: auto">Save</div>
    </button>
  </div>
</div>
<add-element style="height: 95px;" (click)="content.push(newElement())"></add-element>
