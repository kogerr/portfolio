<div [hidden]="submitted">
<form #postForm method="post" action="/api/images" enctype="multipart/form-data">
    <div class="form-group">
        <label for="title">Title</label>
        <input name="title" id="title" type="text" [(ngModel)]="post.title">
    </div>
    <div class="form-group">
        <label for="client">Client</label>
        <input name="client" id="client" type="text" [(ngModel)]="post.client">
    </div>
    <div class="form-group">
        <label for="title">Content</label>
        <textarea rows="4" name="text" id="text" type="text" [(ngModel)]="post.text"></textarea>
    </div>
    <div class="form-group">
        <label for="title">Cover Image</label>
        <input #cover name="cover-image" type="file" accept=".png, .jpg, .jpeg" (change)="uploadCover($event)">
    </div>
    <button (click)="removeCover(); cover.value=''">Remove cover image</button>
    <button (click)="uploadPost()">Upload</button>
</form>
</div>

<div *ngIf="submitted">
    <div *ngIf="success">
        <p>Post uploaded</p>
    </div>
    <div *ngIf="error">
        <p>Server responded with error message:</p>
        <p>{{error}}</p>
    </div>
    <p>You will be redirected in {{remaining}} seconds.</p>
</div>